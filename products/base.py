res_data = {'error': False, 'current_page': 1, 'next_page': 2, 'results': [
    {'asin': 'B08ZSTH3Z3',
     'title': 'NEEKFOX Water Bottle, 73OZ/0.6 Gallon Motivational Large Water Bottle with Straw & Time Marker, Leakproof BPA Free Big Water Jug, Wide Mouth Portable Water Bottle for Fitness Outdoor Sports',
     'image': 'https://m.media-amazon.com/images/I/71kaCxOAdFS._AC_UL320_.jpg',
     'full_link': 'https://www.amazon.com/dp/B08ZSTH3Z3/?psc=1',
     'prices': {'current_price': 14.99, 'previous_price': -1.0,
                'currency': '$'},
     'reviews': {'total_reviews': 294, 'stars': 4.3}, 'prime': True,
     'sponsored': False}, {'asin': 'B08BNH7TW1',
                           'title': 'Venture Pal Large 1 Gallon Motivational Water Bottle with 2 Lids (Chug and Straw), Leakproof BPA Free Tritan Sports Water Jug with Time Marker to Ensure You Drink Enough Water Throughout The Day',
                           'image': 'https://m.media-amazon.com/images/I/71b90xUDIHL._AC_UL320_.jpg',
                           'full_link': 'https://www.amazon.com/dp/B08BNH7TW1/?psc=1',
                           'prices': {'current_price': 20.99,
                                      'previous_price': -1.0, 'currency': '$'},
                           'reviews': {'total_reviews': 17739, 'stars': 4.7},
                           'prime': True, 'sponsored': True},
    {'asin': 'B00WH2NKRO',
     'title': 'Pogo BPA-Free Plastic Water Bottle with Chug Lid',
     'image': 'https://m.media-amazon.com/images/I/71Jf8gGTbSL._AC_UL320_.jpg',
     'full_link': 'https://www.amazon.com/dp/B00WH2NKRO/?psc=1',
     'prices': {'current_price': 8.99, 'previous_price': -1.0,
                'currency': '$'},
     'reviews': {'total_reviews': 30994, 'stars': 4.7}, 'prime': True,
     'sponsored': False}, {'asin': 'B089RGRCHP',
                           'title': 'EYQ 32 oz Water Bottle with Time Marker, Carry Strap, Leak-Proof Tritan BPA-Free, Ensure You Drink Enough Water for Fitness, Gym, Camping, Outdoor Sports',
                           'image': 'https://m.media-amazon.com/images/I/61GyrQ5m91L._AC_UL320_.jpg',
                           'full_link': 'https://www.amazon.com/dp/B089RGRCHP/?psc=1',
                           'prices': {'current_price': 14.99,
                                      'previous_price': -1.0, 'currency': '$'},
                           'reviews': {'total_reviews': 5268, 'stars': 4.7},
                           'prime': True, 'sponsored': False},
    {'asin': 'B07Y8BW5QK',
     'title': 'Iron Flask Sports Water Bottle - 64 Oz, 3 Lids (Straw Lid),Vacuum Insulated Stainless Steel, Double Walled, Thermo Mug, Metal Canteen',
     'image': 'https://m.media-amazon.com/images/I/71RnrivGc2L._AC_UL320_.jpg',
     'full_link': 'https://www.amazon.com/dp/B07Y8BW5QK/?psc=1',
     'prices': {'current_price': 32.95, 'previous_price': -1.0,
                'currency': '$'},
     'reviews': {'total_reviews': 2873, 'stars': 4.9}, 'prime': True,
     'sponsored': False}, {'asin': 'B07MGKJGP3',
                           'title': 'Simple Modern Summit Insulated Water Bottle with Straw Lid 1 Liter Reusable Wide Mouth Stainless Steel Flask Thermos, 32oz (945ml), -Riptide',
                           'image': 'https://m.media-amazon.com/images/I/61-Ovi2RBjL._AC_UL320_.jpg',
                           'full_link': 'https://www.amazon.com/dp/B07MGKJGP3/?psc=1',
                           'prices': {'current_price': 21.99,
                                      'previous_price': -1.0, 'currency': '$'},
                           'reviews': {'total_reviews': 34107, 'stars': 4.8},
                           'prime': True, 'sponsored': False},
    {'asin': 'B07F6TKTBW',
     'title': 'Thermoflask Double Stainless Steel Insulated Water Bottle, 40 oz, White',
     'image': 'https://m.media-amazon.com/images/I/71dDzLe-WzL._AC_UL320_.jpg',
     'full_link': 'https://www.amazon.com/dp/B07F6TKTBW/?psc=1',
     'prices': {'current_price': 24.99, 'previous_price': -1.0,
                'currency': '$'},
     'reviews': {'total_reviews': 30175, 'stars': 4.8}, 'prime': True,
     'sponsored': False}, {'asin': 'B096R85HG3',
                           'title': '32oz Water Bottle with Time Marker & Straw, Dishwasher Safe, Leakproof, Safety Lock, No BPA, Reusable Water Jug to Ensure You Drink Enough Water Daily for Fitness, Gym, Outdoor Sports',
                           'image': 'https://m.media-amazon.com/images/I/71C4JDZjVrL._AC_UL320_.jpg',
                           'full_link': 'https://www.amazon.com/dp/B096R85HG3/?psc=1',
                           'prices': {'current_price': 10.99,
                                      'previous_price': 20.0, 'currency': '$'},
                           'reviews': {'total_reviews': 162, 'stars': 4.7},
                           'prime': True, 'sponsored': False},
    {'asin': 'B00TNIK6P4', 'title': 'Nalgene Wide Mouth Water Bottle',
     'image': 'https://m.media-amazon.com/images/I/71yXE2dXkLL._AC_UL320_.jpg',
     'full_link': 'https://www.amazon.com/dp/B00TNIK6P4/?psc=1',
     'prices': {'current_price': 11.99, 'previous_price': -1.0,
                'currency': '$'},
     'reviews': {'total_reviews': 46633, 'stars': 4.9}, 'prime': True,
     'sponsored': False}, {'asin': 'B08B1VTTB9',
                           'title': 'Triple-Insulated Stainless Steel Water Bottle with Straw Lid - Flip-Top Lid - Wide-Mouth Cap (25 Oz) Insulated Water Bottles, Keeps Hot and Cold - Sports Canteen Water Bottle Great for Hiking & Biking',
                           'image': 'https://m.media-amazon.com/images/I/81HHI2mPzEL._AC_UL320_.jpg',
                           'full_link': 'https://www.amazon.com/dp/B08B1VTTB9/?psc=1',
                           'prices': {'current_price': 19.99,
                                      'previous_price': -1.0, 'currency': '$'},
                           'reviews': {'total_reviews': 10073, 'stars': 4.8},
                           'prime': True, 'sponsored': False},
    {'asin': 'B0878R9YQN',
     'title': 'Giotto Large 1 Gallon Motivational Water Bottle with Paracord Handle & Removable Straw - Leakproof Tritan BPA Free Fitness Sports Water Jug with Time Marker to Ensure You Drink Enough Water Daily',
     'image': 'https://m.media-amazon.com/images/I/71iygo7QTkL._AC_UL320_.jpg',
     'full_link': 'https://www.amazon.com/dp/B0878R9YQN/?psc=1',
     'prices': {'current_price': 20.99, 'previous_price': -1.0,
                'currency': '$'},
     'reviews': {'total_reviews': 20546, 'stars': 4.6}, 'prime': True,
     'sponsored': False}, {'asin': 'B01KXHH42G',
                           'title': 'Hydro Flask Water Bottle - Stainless Steel, Reusable, Vacuum Insulated with Standard Mouth Flex Lid',
                           'image': 'https://m.media-amazon.com/images/I/61rjkR4gPiS._AC_UL320_.jpg',
                           'full_link': 'https://www.amazon.com/dp/B01KXHH42G/?psc=1',
                           'prices': {'current_price': 27.39,
                                      'previous_price': 29.95,
                                      'currency': '$'},
                           'reviews': {'total_reviews': 23701, 'stars': 4.8},
                           'prime': True, 'sponsored': False},
    {'asin': 'B082W66DCJ',
     'title': 'Giotto 32oz Leakproof BPA Free Drinking Water Bottle with Time Marker & Straw to Ensure You Drink Enough Water Throughout The Day for Fitness and Outdoor Enthusiasts',
     'image': 'https://m.media-amazon.com/images/I/712w4g5Y9yL._AC_UL320_.jpg',
     'full_link': 'https://www.amazon.com/dp/B082W66DCJ/?psc=1',
     'prices': {'current_price': 14.44, 'previous_price': 18.99,
                'currency': '$'},
     'reviews': {'total_reviews': 39910, 'stars': 4.7}, 'prime': True,
     'sponsored': False}, {'asin': 'B085DTZQNZ',
                           'title': 'Owala FreeSip Insulated Stainless Steel Water Bottle with Straw for Sports and Travel, BPA-Free, 24-Ounce, Very, Very Dark',
                           'image': 'https://m.media-amazon.com/images/I/71MUmyzEExS._AC_UL320_.jpg',
                           'full_link': 'https://www.amazon.com/dp/B085DTZQNZ/?psc=1',
                           'prices': {'current_price': 23.97,
                                      'previous_price': -1.0, 'currency': '$'},
                           'reviews': {'total_reviews': 8424, 'stars': 4.8},
                           'prime': True, 'sponsored': False},
    {'asin': 'B092W3PNQ8',
     'title': 'layajia Water Bottle, 34oz Nonslip Gallon Water Bottle, Leakproof BPA Free Tritan Sports Water Jug with Removable Strainer, Suitable for Gym Outdoor Sport, Campus, Ensure that Drink Enough Water',
     'image': 'https://m.media-amazon.com/images/I/71Mwqk33SvS._AC_UL320_.jpg',
     'full_link': 'https://www.amazon.com/dp/B092W3PNQ8/?psc=1',
     'prices': {'current_price': 17.99, 'previous_price': -1.0,
                'currency': '$'},
     'reviews': {'total_reviews': 170, 'stars': 4.5}, 'prime': True,
     'sponsored': False}, {'asin': 'B08RSNLR75',
                           'title': 'Contigo AUTOSEAL Water Bottle, 24oz, Dragon Fruit Lid',
                           'image': 'https://m.media-amazon.com/images/I/71jhs7M1jNL._AC_UL320_.jpg',
                           'full_link': 'https://www.amazon.com/dp/B08RSNLR75/?psc=1',
                           'prices': {'current_price': 19.99,
                                      'previous_price': -1.0, 'currency': '$'},
                           'reviews': {'total_reviews': 22155, 'stars': 4.8},
                           'prime': False, 'sponsored': True},
    {'asin': 'B071NGXW49',
     'title': 'MIRA 17 Oz Stainless Steel Vacuum Insulated Water Bottle - Double Walled Cola Shape Thermos - 24 Hours Cold, 12 Hours Hot - Reusable Metal Water Bottle - Leak-Proof Sports Flask - Rose Pink',
     'image': 'https://m.media-amazon.com/images/I/81NyNauWGwL._AC_UL320_.jpg',
     'full_link': 'https://www.amazon.com/dp/B071NGXW49/?psc=1',
     'prices': {'current_price': 13.95, 'previous_price': -1.0,
                'currency': '$'},
     'reviews': {'total_reviews': 6218, 'stars': 4.6}, 'prime': True,
     'sponsored': True}, {'asin': 'B095GQHBBZ',
                          'title': '32oz Motivational Water Bottle with Time Maker Leakproof Tritan BPA Free Wide Mouth Durable Sports Water Jug to Ensure You Drink Enough Water Daily for Fitness, Gym and Outdoor Sports',
                          'image': 'https://m.media-amazon.com/images/I/61VvDlUkheS._AC_UL320_.jpg',
                          'full_link': 'https://www.amazon.com/dp/B095GQHBBZ/?psc=1',
                          'prices': {'current_price': 9.99,
                                     'previous_price': -1.0, 'currency': '$'},
                          'reviews': {'total_reviews': 3, 'stars': 5.0},
                          'prime': True, 'sponsored': False},
    {'asin': 'B08GG5TZXG',
     'title': 'BJPKPK Stainless Steel Water Bottles -17Oz/500ml -Insulated Water bottles Keep cold for 24 Hours and hot for 12 Hours, Metal water bottles, BPA Free - School water bottles',
     'image': 'https://m.media-amazon.com/images/I/61lAAvVqBJS._AC_UL320_.jpg',
     'full_link': 'https://www.amazon.com/dp/B08GG5TZXG/?psc=1',
     'prices': {'current_price': 12.99, 'previous_price': 16.99,
                'currency': '$'},
     'reviews': {'total_reviews': 407, 'stars': 4.5}, 'prime': True,
     'sponsored': False}, {'asin': 'B08DTQS7B7',
                           'title': 'GOSWAG 1 Gallon/128oz Water Bottle with Straw and Time Marker, Motivational BPA Free Leakproof Sports Water Jug for Fitness, Gym, Camping and Outdoor',
                           'image': 'https://m.media-amazon.com/images/I/71Xx1BnOF7S._AC_UL320_.jpg',
                           'full_link': 'https://www.amazon.com/dp/B08DTQS7B7/?psc=1',
                           'prices': {'current_price': 11.46,
                                      'previous_price': 19.99,
                                      'currency': '$'},
                           'reviews': {'total_reviews': 734, 'stars': 4.7},
                           'prime': True, 'sponsored': False},
    {'asin': 'B085QJ4RBJ',
     'title': 'Hydracy Water Bottle with Time Marker -Large 1Liter 32oz BPA Free Water Bottle -Leak Proof & No Sweat Gym Bottle with Fruit Infuser Strainer -Ideal Gift for Fitness or Sports & Outdoors MoonlightGreen',
     'image': 'https://m.media-amazon.com/images/I/91qr65cbJaS._AC_UL320_.jpg',
     'full_link': 'https://www.amazon.com/dp/B085QJ4RBJ/?psc=1',
     'prices': {'current_price': 22.97, 'previous_price': -1.0,
                'currency': '$'},
     'reviews': {'total_reviews': 8840, 'stars': 4.7}, 'prime': True,
     'sponsored': False}, {'asin': 'B075W1N921',
                           'title': 'Takeya Originals Vacuum-Insulated Stainless-Steel Water Bottle, 40oz, Graphite (50025)',
                           'image': 'https://m.media-amazon.com/images/I/71TCJlZV8bL._AC_UL320_.jpg',
                           'full_link': 'https://www.amazon.com/dp/B075W1N921/?psc=1',
                           'prices': {'current_price': 22.99,
                                      'previous_price': 34.99,
                                      'currency': '$'},
                           'reviews': {'total_reviews': 30510, 'stars': 4.8},
                           'prime': True, 'sponsored': False},
    {'asin': 'B094X6N4PG',
     'title': 'AQUAFIT Half Gallon Water Bottle with Straw Half Gallon Water Jug Motivational Water Bottle 64 Ounce Water Bottle with Time Marker Large Water Bottle Big Water Bottle 1/2 Gallon Water Jug Big Water Jug Gray',
     'image': 'https://m.media-amazon.com/images/I/71ufLdyMYJL._AC_UL320_.jpg',
     'full_link': 'https://www.amazon.com/dp/B094X6N4PG/?psc=1',
     'prices': {'current_price': 17.99, 'previous_price': -1.0,
                'currency': '$'},
     'reviews': {'total_reviews': 9, 'stars': 4.7}, 'prime': True,
     'sponsored': False}, {'asin': 'B0897NQR6C',
                           'title': 'Opard 30oz Sports Water Bottle with Leak Proof Flip Top Lid BPA Free Tritan Reusable Plastic for Gym and Outdoor',
                           'image': 'https://m.media-amazon.com/images/I/51iBCVveObS._AC_UL320_.jpg',
                           'full_link': 'https://www.amazon.com/dp/B0897NQR6C/?psc=1',
                           'prices': {'current_price': 12.99,
                                      'previous_price': -1.0, 'currency': '$'},
                           'reviews': {'total_reviews': 2504, 'stars': 4.6},
                           'prime': True, 'sponsored': False},
    {'asin': 'B08BNPC1B7',
     'title': 'Fidus 32oz Leakproof Tritran BPA Free Water Bottle with Motivational Time Marker to Ensure You Drink Enough Water Daily for Fitness, Gym and Outdoor Sports',
     'image': 'https://m.media-amazon.com/images/I/81kMyHyf9WL._AC_UL320_.jpg',
     'full_link': 'https://www.amazon.com/dp/B08BNPC1B7/?psc=1',
     'prices': {'current_price': 17.99, 'previous_price': -1.0,
                'currency': '$'},
     'reviews': {'total_reviews': 14305, 'stars': 4.7}, 'prime': True,
     'sponsored': False}, {'asin': 'B077XKVG7D',
                           'title': 'Rubbermaid Leak-Proof Sip Water Bottle, 24 oz, Aqua Waters',
                           'image': 'https://m.media-amazon.com/images/I/710CQqCl2aL._AC_UL320_.jpg',
                           'full_link': 'https://www.amazon.com/dp/B077XKVG7D/?psc=1',
                           'prices': {'current_price': 10.99,
                                      'previous_price': -1.0, 'currency': '$'},
                           'reviews': {'total_reviews': 51, 'stars': 4.3},
                           'prime': True, 'sponsored': False},
    {'asin': 'B0978P15KW',
     'title': 'MEITAGIE 32oz Motivational Water Bottle with Time Marker & Fruit Strainer, Leak-proof BPA Free Non-Toxic 1l Bottle with Carrying Strap, Perfect for Fitness, Gym and Outdoor Sports',
     'image': 'https://m.media-amazon.com/images/I/71v73ZoAHAL._AC_UL320_.jpg',
     'full_link': 'https://www.amazon.com/dp/B0978P15KW/?psc=1',
     'prices': {'current_price': 15.29, 'previous_price': 17.99,
                'currency': '$'},
     'reviews': {'total_reviews': 24, 'stars': 4.9}, 'prime': True,
     'sponsored': False}, {'asin': 'B09BV3VM6R',
                           'title': 'SRISE 32 oz Water Bottles with Time Marker to Drink Motivational Water Bottle with Straw BPA-free Non-toxic Leak-proof Reusable Bottle Suitable for Gym Running Outdoor Sports',
                           'image': 'https://m.media-amazon.com/images/I/71j7pELdNjL._AC_UL320_.jpg',
                           'full_link': 'https://www.amazon.com/dp/B09BV3VM6R/?psc=1',
                           'prices': {'current_price': 9.99,
                                      'previous_price': -1.0, 'currency': '$'},
                           'reviews': {'total_reviews': 602, 'stars': 4.7},
                           'prime': True, 'sponsored': False},
    {'asin': 'B00YYBBYN8',
     'title': 'Contigo Autospout Ashland Water Bottle, 24oz , Monaco',
     'image': 'https://m.media-amazon.com/images/I/61beIm8thTL._AC_UL320_.jpg',
     'full_link': 'https://www.amazon.com/dp/B00YYBBYN8/?psc=1',
     'prices': {'current_price': 12.99, 'previous_price': 13.99,
                'currency': '$'},
     'reviews': {'total_reviews': 4216, 'stars': 4.6}, 'prime': True,
     'sponsored': False}, {'asin': 'B08JPJRVGQ',
                           'title': 'IRON °FLASK Sports Water Bottle - 32 Oz, 3 Lids (Spout Lid), Vacuum Insulated Stainless Steel, Double Walled, Thermo Mug, Metal Canteen',
                           'image': 'https://m.media-amazon.com/images/I/616RuGhghbL._AC_UL320_.jpg',
                           'full_link': 'https://www.amazon.com/dp/B08JPJRVGQ/?psc=1',
                           'prices': {'current_price': 23.95,
                                      'previous_price': -1.0, 'currency': '$'},
                           'reviews': {'total_reviews': 17704, 'stars': 4.8},
                           'prime': True, 'sponsored': True},
    {'asin': 'B082RF4HWW',
     'title': 'IRON °FLASK Retro Sports Water Bottle - 17 Oz, Vacuum Insulated Stainless Steel, Hot Cold, Double Walled, Thermo Mug, Cola Metal Canteen',
     'image': 'https://m.media-amazon.com/images/I/71c6kPjHA-L._AC_UL320_.jpg',
     'full_link': 'https://www.amazon.com/dp/B082RF4HWW/?psc=1',
     'prices': {'current_price': 16.95, 'previous_price': -1.0,
                'currency': '$'},
     'reviews': {'total_reviews': 2384, 'stars': 4.7}, 'prime': False,
     'sponsored': True}, {'asin': 'B088RKJ4B6',
                          'title': 'IRON °FLASK Carabiner Straw Lid for Wide Mouth Insulated Sports Water Bottles, Simple BPA Free, 2 Lids, 4 Straws, 2 Cleaning Brushes…',
                          'image': 'https://m.media-amazon.com/images/I/716EfNBGM6L._AC_UL320_.jpg',
                          'full_link': 'https://www.amazon.com/dp/B088RKJ4B6/?psc=1',
                          'prices': {'current_price': 9.95,
                                     'previous_price': -1.0, 'currency': '$'},
                          'reviews': {'total_reviews': 3447, 'stars': 4.7},
                          'prime': True, 'sponsored': True},
    {'asin': 'B071NGXW49',
     'title': 'MIRA 17 Oz Stainless Steel Vacuum Insulated Water Bottle - Double Walled Cola Shape Thermos - 24 Hours Cold, 12 Hours Hot - Reusable Metal Water Bottle - Leak-Proof Sports Flask - Rose Pink',
     'image': 'https://m.media-amazon.com/images/I/81NyNauWGwL._AC_UL320_.jpg',
     'full_link': 'https://www.amazon.com/dp/B071NGXW49/?psc=1',
     'prices': {'current_price': 13.95, 'previous_price': -1.0,
                'currency': '$'},
     'reviews': {'total_reviews': 6218, 'stars': 4.6}, 'prime': True,
     'sponsored': False}, {'asin': 'B0999R393T',
                           'title': 'TAKETAU Insulated Water Bottle with Straw & Spout Lid, Stainless Steel 64 oz Half Gallon Jug, Double Wall Vacuum Thermo Mug, Wide Mouth Leakproof Thermal, Keep Drinks Cold or Hot (Black, 64 oz)',
                           'image': 'https://m.media-amazon.com/images/I/815yMCpnc-L._AC_UL320_.jpg',
                           'full_link': 'https://www.amazon.com/dp/B0999R393T/?psc=1',
                           'prices': {'current_price': 32.99,
                                      'previous_price': -1.0, 'currency': '$'},
                           'reviews': {'total_reviews': 0, 'stars': -1.0},
                           'prime': True, 'sponsored': False},
    {'asin': 'B07HGSLDNQ', 'title': 'CamelBak Eddy+ BPA Free Water Bottle',
     'image': 'https://m.media-amazon.com/images/I/61lXNGI8jAL._AC_UL320_.jpg',
     'full_link': 'https://www.amazon.com/dp/B07HGSLDNQ/?psc=1',
     'prices': {'current_price': 13.99, 'previous_price': -1.0,
                'currency': '$'},
     'reviews': {'total_reviews': 12161, 'stars': 4.7}, 'prime': True,
     'sponsored': False}, {'asin': 'B0936JTSL9',
                           'title': 'Water Bottle 32oz with Straw, Motivational Water Mug with Time Marker & Buckle Strap,Leak-Proof Tritan BPA-Free, Ensure You Drink Enough Water for Fitness, Gym, Camping, Outdoor Sports',
                           'image': 'https://m.media-amazon.com/images/I/71VY5Ne0vLS._AC_UL320_.jpg',
                           'full_link': 'https://www.amazon.com/dp/B0936JTSL9/?psc=1',
                           'prices': {'current_price': 16.99,
                                      'previous_price': -1.0, 'currency': '$'},
                           'reviews': {'total_reviews': 300, 'stars': 4.6},
                           'prime': True, 'sponsored': False},
    {'asin': 'B08FXD5SNC',
     'title': 'AQUAFIT 1 Gallon Water Bottle With Time Marker - Large Water Bottle Gallon Water Bottle Motivational One Gallon Water Bottle With Straw 1 Gallon Water Jug With Time Marker 1 Gallon Big Water Bottle Gray',
     'image': 'https://m.media-amazon.com/images/I/71zV64EWxDL._AC_UL320_.jpg',
     'full_link': 'https://www.amazon.com/dp/B08FXD5SNC/?psc=1',
     'prices': {'current_price': 24.99, 'previous_price': -1.0,
                'currency': '$'},
     'reviews': {'total_reviews': 7519, 'stars': 4.7}, 'prime': True,
     'sponsored': False}, {'asin': 'B08QVGHNGH',
                           'title': 'CamelBak Chute Mag BPA Free Water Bottle with Tritan Renew',
                           'image': 'https://m.media-amazon.com/images/I/61On3ekA0cL._AC_UL320_.jpg',
                           'full_link': 'https://www.amazon.com/dp/B08QVGHNGH/?psc=1',
                           'prices': {'current_price': 15.0,
                                      'previous_price': -1.0, 'currency': '$'},
                           'reviews': {'total_reviews': 1078, 'stars': 4.8},
                           'prime': True, 'sponsored': False},
    {'asin': 'B08MQV1P1L',
     'title': 'Rolling Sands 20 Ounce Sports Water Bottles 100 Pack, BPA-Free, Made in USA, Dishwasher Safe',
     'image': 'https://m.media-amazon.com/images/I/71hF1NtSCOL._AC_UL320_.jpg',
     'full_link': 'https://www.amazon.com/dp/B08MQV1P1L/?psc=1',
     'prices': {'current_price': 198.99, 'previous_price': -1.0,
                'currency': '$'},
     'reviews': {'total_reviews': 5, 'stars': 5.0}, 'prime': False,
     'sponsored': False}, {'asin': 'B092VW6PPS',
                           'title': 'LUCKEA 1 Gallon Water Bottle with Straw/ Half Gallon motivational water bottle Tritan BPA Free, Premium Flip-top Lid and Leakproof Sport Big Jug for for Fitness Camping Home Outdoor Activity',
                           'image': 'https://m.media-amazon.com/images/I/51dn1nXn0xL._AC_UL320_.jpg',
                           'full_link': 'https://www.amazon.com/dp/B092VW6PPS/?psc=1',
                           'prices': {'current_price': 17.99,
                                      'previous_price': -1.0, 'currency': '$'},
                           'reviews': {'total_reviews': 155, 'stars': 4.8},
                           'prime': True, 'sponsored': False},
    {'asin': 'B095J3WHSG',
     'title': 'PASER 64oz/128oz Motivational Water Bottle with Time Marker & Straw, Leakproof Tritan BPA Free Water Jug Ensure You Drink Enough Water Daily for Fitness, Gym and Outdoor Sports',
     'image': 'https://m.media-amazon.com/images/I/71JvPBsAM8L._AC_UL320_.jpg',
     'full_link': 'https://www.amazon.com/dp/B095J3WHSG/?psc=1',
     'prices': {'current_price': 20.99, 'previous_price': -1.0,
                'currency': '$'},
     'reviews': {'total_reviews': 2058, 'stars': 4.6}, 'prime': True,
     'sponsored': False}, {'asin': 'B001NCDE48',
                           'title': 'Nalgene Tritan Narrow Mouth BPA-Free Water Bottle, 32 oz',
                           'image': 'https://m.media-amazon.com/images/I/61xa01L5KdL._AC_UL320_.jpg',
                           'full_link': 'https://www.amazon.com/dp/B001NCDE48/?psc=1',
                           'prices': {'current_price': 11.93,
                                      'previous_price': -1.0, 'currency': '$'},
                           'reviews': {'total_reviews': 20294, 'stars': 4.8},
                           'prime': True, 'sponsored': False},
    {'asin': 'B082XDVFFQ',
     'title': 'Insulated Water Bottle with Straw - 32 oz Water Bottles - Triple Insulated Stainless Steel Water Bottles with 4 Leak-Proof Lids and 2 Straws. Reusable Water Bottle by Albor, Black',
     'image': 'https://m.media-amazon.com/images/I/81uqbneCTnL._AC_UL320_.jpg',
     'full_link': 'https://www.amazon.com/dp/B082XDVFFQ/?psc=1',
     'prices': {'current_price': 18.99, 'previous_price': -1.0,
                'currency': '$'},
     'reviews': {'total_reviews': 1140, 'stars': 4.8}, 'prime': True,
     'sponsored': False}, {'asin': 'B07XRXFWD4',
                           'title': 'CamelBak Chute Mag Water Bottle, Insulated Stainless Steel',
                           'image': 'https://m.media-amazon.com/images/I/714jUqv3h8L._AC_UL320_.jpg',
                           'full_link': 'https://www.amazon.com/dp/B07XRXFWD4/?psc=1',
                           'prices': {'current_price': 34.99,
                                      'previous_price': -1.0, 'currency': '$'},
                           'reviews': {'total_reviews': 9976, 'stars': 4.8},
                           'prime': True, 'sponsored': False},
    {'asin': 'B08FBYN6PK',
     'title': '64oz Leakproof Free Drinking Water Bottle with Motivational Time Marker BPA Free for Fitness, Gym and Outdoor Sports (Navy/Green Gradient)',
     'image': 'https://m.media-amazon.com/images/I/71NbK9uoqKL._AC_UL320_.jpg',
     'full_link': 'https://www.amazon.com/dp/B08FBYN6PK/?psc=1',
     'prices': {'current_price': 18.99, 'previous_price': -1.0,
                'currency': '$'},
     'reviews': {'total_reviews': 5280, 'stars': 4.7}, 'prime': True,
     'sponsored': False}, {'asin': 'B07R3HYDVW',
                           'title': 'BUZIO Insulated Water Bottle with Straw Lid and Flex Cap, 32oz, 40oz, 64oz, 87oz Modern Double Vacuum Stainless Steel Water Flask, Cold for 48 Hrs Hot for 24 Hrs Simple Thermo Canteen Mug,BPA-Free',
                           'image': 'https://m.media-amazon.com/images/I/61pzUNzfZiL._AC_UL320_.jpg',
                           'full_link': 'https://www.amazon.com/dp/B07R3HYDVW/?psc=1',
                           'prices': {'current_price': 19.99,
                                      'previous_price': 27.99,
                                      'currency': '$'},
                           'reviews': {'total_reviews': 23025, 'stars': 4.7},
                           'prime': True, 'sponsored': False},
    {'asin': 'B08CXR6YPW',
     'title': 'SANKUU Large 1 Gallon/128oz (When Full) Gallon Water Bottle Motivational with Time Marker & Straw, Leakproof Water Jug Ensure You Drink Daily Water Throughout The Fitness Day (Purple/Blue Gradient)',
     'image': 'https://m.media-amazon.com/images/I/71IB6QYAjfL._AC_UL320_.jpg',
     'full_link': 'https://www.amazon.com/dp/B08CXR6YPW/?psc=1',
     'prices': {'current_price': 18.98, 'previous_price': -1.0,
                'currency': '$'},
     'reviews': {'total_reviews': 9826, 'stars': 4.5}, 'prime': True,
     'sponsored': False}, {'asin': 'B07S2GCFP5',
                           'title': 'The Coldest Water Bottle - 32 oz Sports Wide Mouth Hot Cold, Modern Double Walled, Simple Thermo Mug, Metal Canteen Cold 36+ Hrs - Flip Top Wide Mouth 2.0 (Mint Green)',
                           'image': 'https://m.media-amazon.com/images/I/71qu4LSDeDL._AC_UL320_.jpg',
                           'full_link': 'https://www.amazon.com/dp/B07S2GCFP5/?psc=1',
                           'prices': {'current_price': 39.99,
                                      'previous_price': -1.0, 'currency': '$'},
                           'reviews': {'total_reviews': 464, 'stars': 4.5},
                           'prime': True, 'sponsored': False},
    {'asin': 'B0936PQ89D',
     'title': 'MEITAGIE Water Bottle, Large 1Gallon/128oz Motivational Water Bottle With Time Marker & Removable Straw,LeakProof Water Jug With BPA Free Tritan Material, 1-Click Open for Fitness Gym Camping Outdoor Sports',
     'image': 'https://m.media-amazon.com/images/I/617rgnIIIQL._AC_UL320_.jpg',
     'full_link': 'https://www.amazon.com/dp/B0936PQ89D/?psc=1',
     'prices': {'current_price': 15.16, 'previous_price': 20.99,
                'currency': '$'},
     'reviews': {'total_reviews': 66, 'stars': 4.5}, 'prime': True,
     'sponsored': False}, {'asin': 'B081ZN77H5',
                           'title': 'Polar Bottle Sport Insulated Water Bottle - BPA-Free, Sport & Bike Squeeze Bottle with Handle',
                           'image': 'https://m.media-amazon.com/images/I/51JSTz1TLkL._AC_UL320_.jpg',
                           'full_link': 'https://www.amazon.com/dp/B081ZN77H5/?psc=1',
                           'prices': {'current_price': 11.99,
                                      'previous_price': -1.0, 'currency': '$'},
                           'reviews': {'total_reviews': 9329, 'stars': 4.6},
                           'prime': True, 'sponsored': False},
    {'asin': 'B08DXGPG6W',
     'title': 'Custom Bulk "Bullet Shape" Stainless Steel Water Bottles, 26 oz. Pack of 100, Personalized Text, Logo, Double Wall Insulated Modern Design, Silver',
     'image': 'https://m.media-amazon.com/images/I/71An62iOK8L._AC_UL320_.jpg',
     'full_link': 'https://www.amazon.com/dp/B08DXGPG6W/?psc=1',
     'prices': {'current_price': 682.49, 'previous_price': -1.0,
                'currency': '$'},
     'reviews': {'total_reviews': 1, 'stars': 4.0}, 'prime': False,
     'sponsored': False}, {'asin': 'B08796YQ83',
                           'title': 'Fidus Large Half Gallon/64OZ Motivational Water Bottle with Paracord Handle & Removable Straw - BPA Free Leakproof Water Jug with Time Marker to Ensure You Drink Enough Water Daily',
                           'image': 'https://m.media-amazon.com/images/I/81n1UHUdYOL._AC_UL320_.jpg',
                           'full_link': 'https://www.amazon.com/dp/B08796YQ83/?psc=1',
                           'prices': {'current_price': 19.99,
                                      'previous_price': -1.0, 'currency': '$'},
                           'reviews': {'total_reviews': 12975, 'stars': 4.6},
                           'prime': True, 'sponsored': False},
    {'asin': 'B08RSNG7R1',
     'title': 'Contigo AUTOPOP Water Bottle, 20oz, Blue Corn Lid',
     'image': 'https://m.media-amazon.com/images/I/71i0jHS2r2L._AC_UL320_.jpg',
     'full_link': 'https://www.amazon.com/dp/B08RSNG7R1/?psc=1',
     'prices': {'current_price': 15.99, 'previous_price': -1.0,
                'currency': '$'},
     'reviews': {'total_reviews': 1285, 'stars': 4.7}, 'prime': True,
     'sponsored': False}, {'asin': 'B086V6YDDB',
                           'title': 'Elvira 32oz Vacuum Insulated Stainless Steel Water Bottle with Straw & Spout Lids, Double Wall Sweat-Proof BPA Free to Keep Beverages Cold for 24Hrs or Hot for 12Hrs',
                           'image': 'https://m.media-amazon.com/images/I/81OK-O3vJEL._AC_UL320_.jpg',
                           'full_link': 'https://www.amazon.com/dp/B086V6YDDB/?psc=1',
                           'prices': {'current_price': 22.99,
                                      'previous_price': -1.0, 'currency': '$'},
                           'reviews': {'total_reviews': 10062, 'stars': 4.7},
                           'prime': True, 'sponsored': False},
    {'asin': 'B07RJTKL5W',
     'title': 'Triple Insulated Stainless Steel Water Bottle (set of 2) 17 Ounce, Sleek Insulated Water Bottles, Keeps Hot and Cold, 100% LeakProof Lids, Sweat Proof Water Bottles, Great for Travel, Picnic& Camping.',
     'image': 'https://m.media-amazon.com/images/I/71wFyZlg58L._AC_UL320_.jpg',
     'full_link': 'https://www.amazon.com/dp/B07RJTKL5W/?psc=1',
     'prices': {'current_price': 19.99, 'previous_price': -1.0,
                'currency': '$'},
     'reviews': {'total_reviews': 3965, 'stars': 4.6}, 'prime': True,
     'sponsored': False}, {'asin': 'B083B75VJP',
                           'title': 'Elvira 32oz Large Water Bottle with Motivational Time Marker & Removable Strainer,Fast Flow BPA Free Non-Toxic for Fitness, Gym and Outdoor Sports',
                           'image': 'https://m.media-amazon.com/images/I/717BX9Tg1zS._AC_UL320_.jpg',
                           'full_link': 'https://www.amazon.com/dp/B083B75VJP/?psc=1',
                           'prices': {'current_price': 16.99,
                                      'previous_price': -1.0, 'currency': '$'},
                           'reviews': {'total_reviews': 15480, 'stars': 4.8},
                           'prime': True, 'sponsored': False},
    {'asin': 'B08B927TWW',
     'title': '1Gallon Water Bottle,BPA Free Large Water Bottle 128oz Hydration with Motivational Time Marker Reminder Leak-Proof Drinking Big Water Jug for Camping Sports Workouts and Outdoor',
     'image': 'https://m.media-amazon.com/images/I/61YSSLBuL4L._AC_UL320_.jpg',
     'full_link': 'https://www.amazon.com/dp/B08B927TWW/?psc=1',
     'prices': {'current_price': 19.99, 'previous_price': -1.0,
                'currency': '$'},
     'reviews': {'total_reviews': 610, 'stars': 4.5}, 'prime': True,
     'sponsored': False}, {'asin': 'B07LC3XR21',
                           'title': 'Takeya Actives Insulated Stainless Steel Water Bottle with Spout Lid, 24 oz, Lilac',
                           'image': 'https://m.media-amazon.com/images/I/71fN6Xq0Z6L._AC_UL320_.jpg',
                           'full_link': 'https://www.amazon.com/dp/B07LC3XR21/?psc=1',
                           'prices': {'current_price': 21.99,
                                      'previous_price': 32.99,
                                      'currency': '$'},
                           'reviews': {'total_reviews': 25856, 'stars': 4.8},
                           'prime': True, 'sponsored': True},
    {'asin': 'B09BZ7H43L',
     'title': 'Hydro Flask 21 OZ Standard Sport Cap RAIN',
     'image': 'https://m.media-amazon.com/images/I/51oUph0TWxL._AC_UL320_.jpg',
     'full_link': 'https://www.amazon.com/dp/B09BZ7H43L/?psc=1',
     'prices': {'current_price': 39.06, 'previous_price': -1.0,
                'currency': '$'},
     'reviews': {'total_reviews': 1, 'stars': 5.0}, 'prime': True,
     'sponsored': True}, {'asin': 'B0979PNVSZ',
                          'title': 'CHELIQ Saturn Water Bottle | 25oz Capacity, Sleeve Handle, Flip-Top Locking Lid, Impact and Heat Resistant, Leakproof and BPA Free Water Bottle for Home, Office, School, Gym, and Outdoor (Red)',
                          'image': 'https://m.media-amazon.com/images/I/81id5q29ySS._AC_UL320_.jpg',
                          'full_link': 'https://www.amazon.com/dp/B0979PNVSZ/?psc=1',
                          'prices': {'current_price': 9.99,
                                     'previous_price': -1.0, 'currency': '$'},
                          'reviews': {'total_reviews': 4, 'stars': 4.7},
                          'prime': True, 'sponsored': True}]}

from typing import Dict, List

import requests


# Hiking shoes = 55
# Sunscreen = 60
# Beach towel = 60
# Sun glasses = 59
# Water bottle = 60

# data = response.json()
# print(data)
#
# print(response.json()['results'][0].get('title'))
# print(response.json()['results'][0].get('image'))
# print(response.json()['results'][0].get('full_link'))
# print(response.json()['results'][0].get('prices'))

# TODO: Exercise 1: A proper request following all the previous instructions
# 1. Add variable type to the 'response'
# 2. Instead of using separate 'url' variable,
#    move 'https://amazon-products1.p.rapidapi.com/search' in .get(url=...)
# 3. Instead of using separate 'headers' variable,
#    move {... headers_content ...} in .get(headers=...)
# 4. Instead of using separate 'querystring' variable,
#    move {... querystring_content ...} in .get(params=...)
# 5. Choose one either single or double quotes,
#    and stick with them - replace all of them with one type.

# TODO: Exercise 2: Create a 'ProductRequest' class
# 1. Create a new 'ProductRequest' class blueprint
# 2. Create a new method called 'def _request(self) -> requests.Response:'
# 3. Move the content of 'Exercise 1' to the new '_request' method (return the response)


# TODO: Exercise 3: Move parts that don't change to the __init__
# 1. Create a new 'self.url' variable in '__init__' method (and use it in code)
# 2. Create a new 'self.headers' variable in '__init__' method (and use it in code)

# TODO: Exercise 4: Add 'timeout' (in case we can't reach the API url)
# 1. Create a separate method called '.get()' in 'ProductRequest' class
# 2. Adjust '_request' method to use 'getattr()' and '**kwargs' (see the video)
# 3. Add new variable called 'self.timeout' to __init__ method (see the video)
# 4. Update 'kwargs' with 'self.timeout' in '_request' method (see the video)
# 5. Adjust '.get()' method to use '_request' method (see the video)

# TODO: Exercise 5: Data extraction for the first product
# 1. Use 'ProductRequest' to create a new request
# 2. Assign the result of .get() method execution to a new variable called 'res'
# 3. Create a new variable 'res_data: Dict = res.json()'
# 4. Get the first product from the 'results' key in 'res_data'
#    and assign it to a new variable called 'product'
# 5. Find out how to access product fields:
#    'title', 'image', 'full_link', 'current_price', 'currency'
#    using 'product' variable
# 6. Create a new empty 'List' variable called 'products'
# 7. Append a new item
#    (Dict with product 'title', 'image', 'full_link', 'current_price', 'currency')
#    to 'products'

# TODO: Exercise 6: Create 'get_products' function
# 1. Create a new function called 'get_products'
# 2. 'get_products' function takes 1 argument 'res_data'
# 3. The goal of the function is to return a list of 5 products
# 4. Each product should be appended to the 'products' list
#    as a Dict with with product 'title', 'image', 'full_link', 'current_price', 'currency'
# 5. Use 'for loop' to with 'break' statement to end the 'for loop' once you have collected 5 products
# 6. Use if statement to only add products with current_price higher than -1.0 (float)
# 7. The function should return a list of products (add a return type to the function)

# TODO: Exercise 7: Create 'Products' class
# 1. Move 'get_products()' function to the 'Products' class
# 2. Rename 'get_products()' function to just 'get()' method
# 3. Create __init__ method with two arguments: 
#    'res_data' and 'amount'
# 4. Create two variables in __init__ method:
#    'self.data' (for 'res_data') and 'self.amount' for 'amount'
# 5. Use 'self.data' and  'self.amount' in 'get()' method

class ProductRequest:

    def __init__(self):
        self.url = 'https://amazon-products1.p.rapidapi.com/search'
        self.headers = {
            'x-rapidapi-host': 'amazon-products1.p.rapidapi.com',
            'x-rapidapi-key': '053e00a14fmsh0a56e00fbabbe95p1438bajsn8d4c446bdd86'
        }
        self.timeout = 20

    def _request(self,
                 method: str,
                 **kwargs) -> requests.Response:
        kwargs.update({
            'timeout': self.timeout
        })
        return getattr(requests, method)(**kwargs)

    def get(self,
            params: Dict) -> requests.Response:
        return self._request(
            method='get',
            url=self.url,
            headers=self.headers,
            params=params
        )


data: Dict = {
    'country': 'US',
    'query': 'Water bottle',
    'page': '1'
}


# request = ProductRequest()
# res: requests.Response = request.get(params=data)
# res_data: Dict = res.json()
# print(res)
# print(res_data)

class Products:

    def __init__(self,
                 data: Dict,
                 amount: int):

        self.data = data
        self.amount = amount

    def get(self):
        products: List = []

        for product in self.data['results']:
            title: str = product.get('title')
            image: str = product.get('image')
            full_link: str = product.get('full_link')
            current_price: float = product.get('prices')['current_price']
            currency: str = product.get('prices')['currency']

            if current_price > -1.0:

                new_dict: Dict = {
                    'title': title,
                    'image': image,
                    'full_link': full_link,
                    'current_price': current_price,
                    'currency': currency
                }

                products.append(new_dict)

                if len(products) >= self.amount:
                    break

        return products


products: List = Products(data=res_data, amount=5).get()

# with open('products.txt', 'w') as f:
#     f.write('this text goes into the file')
#     f.close()


for item in products:
    print(item['title'])
    print('Price:', item['currency'], item['current_price'])
    print('Link:', item['full_link'])
